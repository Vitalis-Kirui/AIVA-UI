<div class="container pt-5">

    <div class="text-center">

        <h1>Sales Register</h1>
        <hr>

    </div>

    <!-- Registering a client -->
    <form action="" class="clientdata" [formGroup]="clientdataform" *ngIf="!billingready">

        <!-- Client's name -->
        <div class="form-group">
            <label for="" class="mb-1 my-2">Client's Name</label>
            <input type="text" class="form-control" name="clientname" formControlName="clientname"
                [class.is-invalid]="clientname?.invalid && clientname?.dirty">

            <!-- Error messages -->
            <div class="text-danger" *ngIf="clientname?.invalid && clientname?.dirty">
                <small *ngIf="clientname?.errors?.['required']">Required</small>
                <small *ngIf="clientname?.errors?.['minlength']">At least 3 characters</small>
            </div>
        </div>

        <!-- Submit and Bill -->
        <button class="btn btn-primary btn-rounded m-2" type="button" (click)="registerclient()"
            [disabled]="clientdataform.invalid">Start Billing</button>

    </form>

    <!-- Sales form -->
    <form class="salesform" [formGroup]="salesform" *ngIf="billingready" (ngSubmit)="additem()">

        <!-- Product name -->
        <div class="form-group">
            <label for="" class="mb-1 my-2">Product | Item Name</label>
            <input type="text" class="form-control" name="itemname" formControlName="itemname"
            [class.is-invalid]="itemname?.invalid && itemname?.dirty"
            >

            <!-- Error message -->
            <small class="text-danger" *ngIf="itemname?.invalid && itemname?.dirty">Required</small>
        </div>

        <!-- Quantity -->
        <div class="form-group">
            <label for="" class="mb-1 my-3">Quantity</label>
            <input type="number" class="form-control" name="quantity" formControlName="quantity"
            [class.is-invalid]="quantity?.invalid && quantity?.dirty"
            >

            <!-- Error message -->
            <small class="text-danger" *ngIf="quantity?.invalid && quantity?.dirty">Required</small>

        </div>

        <!-- Mode of payment -->
        <!-- Mpesa -->
        <div class="form-group mb-1 mt-3">
            <label for="" class="my-3 mb-2">Mode of Payment</label> <br>
            <input type="checkbox" class="form-check-input" name="mpesa" formControlName="mpesa">
            <label for="" class="form-check-label">M-Pesa | Till Number</label>
        </div>

        <!-- Cash -->
        <div class="form-group mb-1 mt-3">
            <input type="checkbox" class="form-check-input" name="cash" formControlName="cash">
            <label for="" class="form-check-label">Cash</label>
        </div>

        <!-- Cheque -->
        <div class="form-group mb-1 mt-3">
            <input type="checkbox" class="form-check-input" name="cheque" formControlName="cheque">
            <label for="" class="form-check-label">Cheque</label>
        </div>

        <!-- Transaction code -->
        <div class="form-group">
            <label for="" class="mb-1 my-3">Transaction Code</label>
            <input type="text" class="form-control" name="code" formControlName="code">
        </div>

        <!-- Submit item button -->
        <button class="btn btn-rounded btn-primary m-3" type="submit" [disabled]="salesform.invalid">Add Item</button>

    </form>

    <!-- Billing items before generating a reciept -->
    <div class="col-md-6 mx-auto my-5" *ngIf="billingready">

        <div class="text-center">
            <h2>Billing Recient</h2>
            <hr>
            <p>Items added will appear here.</p>
        </div>

    </div>

    <hr>

    <!-- Go Back function -->
    <button class="btn btn-secondary btn-rounded m-2" type="button" (click)="goback()">Go Back</button>

</div>